
Marius@LAPTOP-569F4650 MINGW64 ~/Desktop/Coding/project-aegis (main)
$ npx tsx --env-file .env packages/aegis-core/src/test-corvus.ts
[chain/start] [1:chain:AgentExecutor] Entering Chain run with input: {
  "input": "Send a test email to test@example.com from sender@example.com with the subject 'Test Email' and the body '<h1>This is a test</h1>'"
}
[chain/start] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent] Entering Chain run with input: {
  "input": "Send a test email to test@example.com from sender@example.com with the subject 'Test Email' and the body '<h1>This is a test</h1>'",
  "steps": []
}
[chain/start] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 3:chain:RunnableAssign] Entering Chain run with input: {
  "input": ""
}
[chain/start] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 3:chain:RunnableAssign > 4:chain:RunnableMap] Entering Chain run with input: {
  "input": ""
}
[chain/start] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 3:chain:RunnableAssign > 4:chain:RunnableMap > 5:chain:RunnableLambda] Entering Chain run with input: {
  "input": ""
}
[chain/end] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 3:chain:RunnableAssign > 4:chain:RunnableMap > 5:chain:RunnableLambda] [8ms] Exiting Chain run with output: {
  "output": []
}
[chain/end] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 3:chain:RunnableAssign > 4:chain:RunnableMap] [13ms] Exiting Chain run with output: {
  "agent_scratchpad": []
}
[chain/end] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 3:chain:RunnableAssign] [17ms] Exiting Chain run with output: {
  "input": "Send a test email to test@example.com from sender@example.com with the subject 'Test Email' and the body '<h1>This is a test</h1>'",
  "steps": [],
  "agent_scratchpad": []
}
[chain/start] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 6:prompt:ChatPromptTemplate] Entering Chain run with input: {
  "input": "Send a test email to test@example.com from sender@example.com with the subject 'Test Email' and the body '<h1>This is a test</h1>'",
  "steps": [],
  "agent_scratchpad": []
}
[chain/end] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 6:prompt:ChatPromptTemplate] [4ms] Exiting Chain run with output: {
  "lc": 1,
  "type": "constructor",
  "id": [
    "langchain_core",
    "prompt_values",
    "ChatPromptValue"
  ],
  "kwargs": {
    "messages": [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are Corvus, the Concierge agent for Project Aegis. \nYour primary function is to handle all customer-facing communication with professionalism and efficiency.\nYou are responsible for sending transactional emails, such as order confirmations and shipping notifications.\nYou must be polite, clear, and concise in all your communications.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Send a test email to test@example.com from sender@example.com with the subject 'Test Email' and the body '<h1>This is a test</h1>'",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  }
}
[llm/start] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 7:llm:ChatGoogleGenerativeAI] Entering LLM run with input: {
  "messages": [
    [
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "SystemMessage"
        ],
        "kwargs": {
          "content": "You are Corvus, the Concierge agent for Project Aegis. \nYour primary function is to handle all customer-facing communication with professionalism and efficiency.\nYou are responsible for sending transactional emails, such as order confirmations and shipping notifications.\nYou must be polite, clear, and concise in all your communications.",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      },
      {
        "lc": 1,
        "type": "constructor",
        "id": [
          "langchain_core",
          "messages",
          "HumanMessage"
        ],
        "kwargs": {
          "content": "Send a test email to test@example.com from sender@example.com with the subject 'Test Email' and the body '<h1>This is a test</h1>'",
          "additional_kwargs": {},
          "response_metadata": {}
        }
      }
    ]
  ]
}
[llm/error] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent > 7:llm:ChatGoogleGenerativeAI] [905ms] LLM run errored with error: "[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:streamGenerateContent?alt=sse: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n\nError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:streamGenerateContent?alt=sse: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:432:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:401:9)\n    at async generateContentStream (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:860:22)\n    at async file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@langchain+google-genai@0.2_c50b16d3328a85eacf369d32c4c3f22c/node_modules/@langchain/google-genai/dist/chat_models.js:690:32\n    at async RetryOperation._fn (C:\\Users\\Marius\\Desktop\\Coding\\project-aegis\\node_modules\\.pnpm\\p-retry@4.6.2\\node_modules\\p-retry\\index.js:50:12)"
[chain/error] [1:chain:AgentExecutor > 2:chain:ToolCallingAgent] [945ms] Chain run errored with error: "[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:streamGenerateContent?alt=sse: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n\nError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:streamGenerateContent?alt=sse: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:432:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:401:9)\n    at async generateContentStream (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:860:22)\n    at async file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@langchain+google-genai@0.2_c50b16d3328a85eacf369d32c4c3f22c/node_modules/@langchain/google-genai/dist/chat_models.js:690:32\n    at async RetryOperation._fn (C:\\Users\\Marius\\Desktop\\Coding\\project-aegis\\node_modules\\.pnpm\\p-retry@4.6.2\\node_modules\\p-retry\\index.js:50:12)"
[chain/error] [1:chain:AgentExecutor] [955ms] Chain run errored with error: "[GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:streamGenerateContent?alt=sse: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n\nError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:streamGenerateContent?alt=sse: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:432:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:401:9)\n    at async generateContentStream (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:860:22)\n    at async file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@langchain+google-genai@0.2_c50b16d3328a85eacf369d32c4c3f22c/node_modules/@langchain/google-genai/dist/chat_models.js:690:32\n    at async RetryOperation._fn (C:\\Users\\Marius\\Desktop\\Coding\\project-aegis\\node_modules\\.pnpm\\p-retry@4.6.2\\node_modules\\p-retry\\index.js:50:12)"
node:internal/process/promises:394
    triggerUncaughtException(err, true /* fromPromise */);
    ^

GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:streamGenerateContent?alt=sse: [404 Not Found] models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
    at handleResponseNotOk (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:432:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async makeRequest (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:401:9)
    at async generateContentStream (file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@google+generative-ai@0.24.1/node_modules/@google/generative-ai/dist/index.mjs:860:22)
    at async file:///C:/Users/Marius/Desktop/Coding/project-aegis/node_modules/.pnpm/@langchain+google-genai@0.2_c50b16d3328a85eacf369d32c4c3f22c/node_modules/@langchain/google-genai/dist/chat_models.js:690:32
    at async RetryOperation._fn (C:\Users\Marius\Desktop\Coding\project-aegis\node_modules\.pnpm\p-retry@4.6.2\node_modules\p-retry\index.js:50:12) {
  status: 404,
  statusText: 'Not Found',
  errorDetails: undefined,
  attemptNumber: 1,
  retriesLeft: 6
}

Node.js v23.10.0

Marius@LAPTOP-569F4650 MINGW64 ~/Desktop/Coding/project-aegis (main)
$
